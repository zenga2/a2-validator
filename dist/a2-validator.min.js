/*!
 * a2-validator v1.0.12
 * (c) 2017-2018 A2
 * Released under the MIT License.
 */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.a2Validator=n()}(this,function(){"use strict";function u(t,n){var r;if(t&&n)if("number"==typeof(r=t.length)&&0<=r){for(var e=0,i=t.length;e<i;e++)if(!1===n.call(t,t[e],e))return}else for(var o=Object.keys(t),u=0,c=o.length;u<c;u++){var f=o[u];if(!1===n.call(t,t[f],f))return}}function o(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function n(n,t){var r=void 0,e=t.every(function(t){return n[r=t].isOk});return{success:function(t){return e&&t&&t(n),this},error:function(t){return!e&&t&&t(n[r],r,n),this}}}function c(o){u({checkAll:function(t){return n(t,Object.keys(t))}.bind(null,o),check:n.bind(null,o),forEach:u.bind(null,o)},function(t,n){return r=o,e=n,i=t,void Object.defineProperty(r,e,{value:i});var r,e,i})}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var r=[],e=!0,i=!1,o=void 0;try{for(var u,c=t[Symbol.iterator]();!(e=(u=c.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){i=!0,o=t}finally{try{!e&&c.return&&c.return()}finally{if(i)throw o}}return r}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(r,t){var e={};return"object"===(void 0===r?"undefined":i(r))?u(t,function(t,n){e[n]=l(f(r[n]),t)}):e=l(f(r),t),e};function f(t){return null===t||void 0===t?"":String(t)}function l(t,n){switch(o(n)){case"string":case"regexp":case"function":return[v(t,n),-1];case"array":return r=t,e=-1,i=void 0,u(n,function(t,n){if(!(i=v(r,t)))return e=n,!1}),[i,e]}var r,e,i}var r=/^-?\d+(\.\d+)?$/,e=/^(0|-?[1-9]\d*)$/,d=/^1(3[0-9]|4[579]|5[0-35-9]|7[0135678]|8[0-9])\d{8}$/,y=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,p=/^[1-9][0-7]\d{4}((19\d{2}(0[13-9]|1[012])(0[1-9]|[12]\d|30))|(19\d{2}(0[13578]|1[02])31)|(19\d{2}02(0[1-9]|1\d|2[0-8]))|(19([13579][26]|[2468][048]|0[48])0229))\d{3}(\d|X|x)?$/,h={required:function(t){return!!t},max:function(t,n){return Number(t)<=Number(n)},min:function(t,n){return Number(t)>=Number(n)},maxLength:function(t,n){return t.length<=Number(n)},minLength:function(t,n){return t.length>=Number(n)},number:function(t){return r.test(t)},integer:function(t){return e.test(t)},date:function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd";return r=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}(r),["y+","M+","d+","h+","m+","s+"].forEach(function(n){r=r.replace(new RegExp(n),function(t){return"y+"!==n&&1===t.length?"\\w{1,2}":"\\w{"+t.length+"}"})}),r.replace(/w/g,"d"),new RegExp(r).test(t)},mobile:function(t){return d.test(t)},email:function(t){return y.test(t)},idCard:function(t){return p.test(t)}};function v(t,n){switch(o(n)){case"string":return function(t,n){var r=n.split("|"),e=a(r,2),i=e[0],o=e[1];(n=h[i])||(n=b,o=i);return n(t,o)}(t,n);case"regexp":return n.test(t);case"function":return n(t)}}function b(t,n){return-1<t.indexOf(n)}return{beforeCreate:function(){var n,r,e,i,t=this.$options.validators,o={};c(o),Object.keys(t).forEach(function(t){return o[t]={}}),n="validators",r=o,"function"==typeof(i=(e=this).$options.data)?e.$options.data=function(){var t=i.call(e);return t[n]=r,t}:i[n]=r},created:function(){(function(){var e=this;u(this.$options.validators,function(t,u){var n="object"===o(t)?[t.rules,t.tips||[]]:[t,[]],r=a(n,2),c=r[0],f=r[1];e.$watch(u,function(t){var n,r,e,i,o;this.validators[u]=(n=f,r=s(t,c),e=a(r,2),i=e[0],o=e[1],{isOk:i,step:o,tip:n[o]||""})},{immediate:!0})})}).call(this)}}});